ðŸ“ your-project/
â”œâ”€ index.html
â””â”€ assets/
   â”œâ”€ background.png
   â”œâ”€ ground.png
   â”œâ”€ player.png
   â”œâ”€ enemy.png   â† digunakan untuk musuh darat dan terbang
   â””â”€ bgm.mp3
  }

  // UI
  scoreText = this.add.text(16, 16, 'Skor: 0', {
    fontSize: '20px', fill: '#ffffff'
  }).setScrollFactor(0);

  creditText = this.add.text(150, 16, 'Game By @imphiiphii', {
    fontSize: '20px', fill: '#ffffff', fontStyle: 'italic'
  }).setScrollFactor(0);

  // Musik
  bgm = this.sound.add('bgm', { loop: true, volume: 0.5 });
  bgm.play();

  // Jump
  this.input.on('pointerdown', function (pointer) {
    if ((pointer.rightButtonDown() || pointer.primaryDown) && player.body.touching.down && !gameOver) {
      player.setVelocityY(-500);
    }
  });
}

function update() {
  if (gameOver) return;
  player.setVelocityX(150);

  enemies.children.iterate((enemyObj) => {
    if (!enemyObj.active) return;
    const dir = player.x < enemyObj.x ? -1 : 1;
    enemyObj.setVelocityX(40 * dir);
  });

  // Update enemy labels
  enemyLabels.forEach(({ enemy, label }) => {
    if (enemy.active) {
      label.setPosition(enemy.x - 30, enemy.y - 40);
    } else {
      label.setVisible(false);
    }
  });
}

function tabrakMusuh(player, musuh) {
  if (gameOver) return;
  if (player.body.velocity.y > 0) {
    musuh.disableBody(true, true);
    score += 10;
    scoreText.setText('Skor: ' + score);
  } else {
    endGame();
  }
}

function endGame() {
  gameOver = true;
  bgm.stop();
  player.setTint(0xff0000);
  document.getElementById('finalScoreText').innerText = 'Skor: ' + score;
  document.getElementById('gameOverPopup').style.display = 'block';
}

window.addEventListener("resize", () => {
  game.scale.resize(window.innerWidth, window.innerHeight);
});
</script>
</body>
</html>
